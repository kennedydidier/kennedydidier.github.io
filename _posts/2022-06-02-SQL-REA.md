---
layout: post
title: Exploratory Queries on Realtor Listings
categories: [sql, databases, real estate]
---

This is part of a project I completed for a top realtor in Westchester County named 
[Cindy Schwall](https://www.cindyschwallrealestate.com/). My objective was to provide deeper insight 
into her sales profile by tracking "unconventional" KPIs -- basically, anything outside of sales volume, 
the traditional key metric for agents and brokerages. We worked together to discuss what figures might be 
relevant. I chose to complete the majority of this project in Python for its power and flexibility, but I 
did access a key table from her SQL database and perform some exploratory queries. Below are a sample of 
these queries.
<!--more-->

{% highlight sql %}

/* exploring, checking, cleaning the all_listings table in my client's database so i can use it for analysis.*/

USE cindy_data;
SHOW tables;
SELECT * FROM all_listings;
ALTER TABLE all_listings ADD CONSTRAINT entry_id PRIMARY KEY (entry_id);

-- getting a sense of the table
SELECT count(*)
FROM all_listings;

-- i want to do most of my analysis in python, but lets look around just for fun
SELECT sale_year, 
	max(sale_price), 
        min(sale_price), 
        avg(sale_price), 
        max(days_on_market), 
        min(days_on_market), 
        AVG(days_on_market),
        COUNT(*)
FROM all_listings WHERE sale_agent LIKE "Cindy%" GROUP BY sale_year ORDER BY sale_year asc;

SELECT sale_year, 
	AVG(sale_price) AS "Average Listing Price", 
        AVG(days_on_market) AS "Days on Market" 
FROM all_listings WHERE sale_agent LIKE "Cindy%" GROUP BY sale_year ORDER BY sale_year asc;


SELECT address AS "Address", 
	original_price AS "Original List Price", 
        last_list_price AS "Last List Price",
        sale_price AS "Sale Price", 
        sale_year AS "Sale Year", 
        days_on_market AS "Days On Market", 
        sale_agent AS "Listing Agent", 
        ((last_list_price - original_price)/original_price)*100 AS "Percent Price Change on Market",
        ((sale_price - original_price)/original_price)*100 AS "Total Percent Price Change"
FROM all_listings WHERE sale_agent LIKE "cindy%" OR "Cindy%";

{% endhighlight %}
